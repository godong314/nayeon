<html><head><base href="https://example.com">
<meta charset="UTF-8">
<title>양나연 토익단어 30일</title>
<style>
:root {
  --primary-color: #2C3E50;
  --hover-color: #34495E;
  --bg-color: #ECF0F1;
  --accent-color: #E74C3C;
  --text-color: #2C3E50;
}

body {
  font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, Roboto, sans-serif;
  background: linear-gradient(135deg, #ECF0F1 0%, #fff 100%);
  margin: 0;
  padding: 40px 20px;
  min-height: 100vh;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 30px;
  background: rgba(255, 255, 255, 0.9);
  border-radius: 20px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
}

h1 {
  text-align: center;
  color: var(--text-color);
  margin-bottom: 50px;
  font-size: 2.5em;
  font-weight: 700;
  position: relative;
  padding-bottom: 15px;
}

h1::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 100px;
  height: 4px;
  background: var(--accent-color);
  border-radius: 2px;
}

.days-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap: 20px;
}

.day-container {
  margin-bottom: 20px;
  transition: all 0.3s ease;
}

.day-button {
  background: linear-gradient(135deg, var(--primary-color) 0%, var(--hover-color) 100%);
  color: white;
  border: none;
  padding: 18px;
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.3s ease;
  font-size: 18px;
  width: 100%;
  font-weight: 600;
  letter-spacing: 0.5px;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

.day-button:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
}

.sub-sections {
  display: none;
  flex-direction: column;
  align-items: center;
  gap: 12px;
  margin-top: 15px;
  padding: 15px;
  background: rgba(255, 255, 255, 0.95);
  border-radius: 12px;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
}

.sub-section-button {
  background: linear-gradient(135deg, #27AE60 0%, #2ECC71 100%);
  color: white;
  border: none;
  padding: 15px 30px;
  border-radius: 10px;
  cursor: pointer;
  transition: all 0.3s ease;
  width: 220px;
  font-size: 16px;
  font-weight: 500;
  letter-spacing: 0.5px;
  box-shadow: 0 4px 15px rgba(39, 174, 96, 0.2);
}

.sub-section-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(39, 174, 96, 0.3);
}

.selected {
  background: linear-gradient(135deg, #C0392B 0%, #E74C3C 100%);
  box-shadow: 0 4px 15px rgba(231, 76, 60, 0.2);
}

.selected:hover {
  box-shadow: 0 6px 20px rgba(231, 76, 60, 0.3);
}

.test-content {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #000000;
  z-index: 1000;
  padding: 40px;
  display: none;
  overflow-y: auto;
  color: #ffffff;
}

.word-display {
  text-align: center;
  font-size: 48px;
  margin: 40px 0;
  min-height: 200px;
  color: #ffffff; 
  background-color: #000000; 
}

.test-content h2 {
  color: #ffffff;
}

.options-container {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 20px;
  max-width: 800px;
  margin: 40px auto;
}

.option-button {
  padding: 20px;
  border: 2px solid #ffffff;
  border-radius: 10px;
  background-color: #000000;
  color: #ffffff;
  cursor: pointer;
  transition: all 0.3s ease;
  font-size: 20px;
}

.option-button:hover {
  background-color: #333333;
  transform: translateY(-2px);
}

.correct {
  background-color: #2ECC71 !important;
  color: white !important;
}

.incorrect {
  background-color: #E74C3C !important;
  color: white !important;
}

.results {
  margin: 40px auto;
  padding: 20px;
  background-color: #000000;
  border: 1px solid #ffffff;
  border-radius: 10px;
  max-width: 800px;
  box-shadow: 0 4px 6px rgba(255,255,255,0.1);
  max-height: calc(100vh - 300px);
  overflow-y: auto;
  color: #ffffff;
}

.word-item {
  padding: 15px;
  margin: 10px 0;
  border-radius: 8px;
  font-size: 18px;
  border: 1px solid rgba(255,255,255,0.2);
}

.correct-word {
  background-color: rgba(46, 204, 113, 0.3);
}

.incorrect-word {
  background-color: rgba(231, 76, 60, 0.3);
}

.start-test-button {
  background-color: #3498DB;
  color: white;
  border: none;
  padding: 15px 30px;
  border-radius: 5px;
  cursor: pointer;
  font-size: 16px;
  margin: 10px 0;
  width: 200px;
  transition: background-color 0.3s ease;
}

.start-test-button:hover {
  background-color: #2980B9;
}

.card-match-button {
  background-color: #9B59B6;
}

.card-match-button:hover {
  background-color: #8E44AD;
}

.back-button {
  background-color: #95a5a6;
  color: white;
  border: none;
  padding: 15px 30px;
  border-radius: 5px;
  cursor: pointer;
  font-size: 16px;
  position: absolute;
  top: 20px;
  left: 20px;
}

.test-button-container {
  display: flex; 
  justify-content: center;
  gap: 20px;
  margin: 20px 0;
}

.copy-button {
  background-color: #6c757d;
  color: white;
  border: none;
  padding: 8px 16px;
  border-radius: 4px;
  cursor: pointer;
  margin: 10px 0;
  transition: all 0.3s ease;
}

.copy-button:hover {
  background-color: #5a6268;
}

.incorrect-words-section {
  margin: 20px 0;
  max-height: none;
}

.card-game-container {
  display: flex;
  justify-content: space-between;
  padding: 20px;
  gap: 40px;
  margin-bottom: 20px;
}

.card-column {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.word-card {
  background: #ffffff;
  border: 2px solid #2C3E50;
  border-radius: 10px;
  padding: 20px;
  text-align: center;
  cursor: pointer;
  font-size: 18px;
  transition: all 0.3s ease;
  color: #000000;
}

.word-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

.word-card.selected {
  border-color: #3498DB;
  background-color: #ECF0F1;
}

.word-card.correct {
  background-color: #2ECC71;
  color: white;
  border-color: #27AE60;
}

.word-card.incorrect {
  background-color: #E74C3C;
  color: white;
  border-color: #C0392B;
}

.timer-bar {
  width: 100%;
  height: 10px;
  background: #ECF0F1;
  border-radius: 5px;
  margin-bottom: 20px;
}

.timer-progress {
  height: 100%;
  background: #3498DB;
  border-radius: 5px;
  transition: width 0.1s linear;
}

.test-only-button {
  background-color: #001f3f;
  border: 2px solid white;
}

@media (max-width: 768px) {
  .card-game-container {
    flex-direction: column;
    padding: 10px;
    gap: 20px;
  }
  .card-column {
    width: 100%;
  }
  .word-card {
    padding: 15px;
    font-size: 16px;
  }
  .options-container {
    grid-template-columns: repeat(2, 1fr);
    gap: 10px;
  }
  .option-button {
    padding: 15px;
    font-size: 16px;
  }
  .test-button-container {
    flex-direction: column;
    gap: 10px;
  }
  .start-test-button {
    width: 100%;
  }
}

@media (max-width: 480px) {
  .word-display {
    font-size: 32px;
  }
  .word-card {
    padding: 10px;
    font-size: 14px;
  }
  .option-button {
    font-size: 14px;
    padding: 10px;
  }
}
</style>
<link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" rel="stylesheet">
</head>
<body>
<div class="container">
  <h1>양나연 토익단어 30일</h1>
  <div id="dayContainers" class="days-grid"></div>
</div>

<div class="test-content" id="testContent">
  <button class="back-button" onclick="backToMain()">&#x2190; 돌아가기</button>
  <h2 style="text-align: center" id="testTitle"></h2>
  <div class="test-button-container"></div>
  <div class="word-display"></div>
  <div class="options-container"></div>
  <div class="results"></div>
</div>

<script>
let selectedDay = null;
let currentWords = [];
let userAnswers = [];
let currentWordIndex = 0;
let isShowingPhase = true;
let cardGameTimer = null;
let selectedCard = null;
let currentCardPhase = [];
let cardGameAnswers = [];
const wordLists = {
  '1-1': [{
    en: 'attire',
    ko: '복장, 옷차림새'
  }, {
    en: 'code',
    ko: '규범, 관례; 암호'
  }, {
    en: 'concern',
    ko: '우려, 걱정; 문제, 일'
  }, {
    en: 'policy',
    ko: '규정; 보험 증권'
  }, {
    en: 'meet',
    ko: '(필요/ 요구 등을) 만족시키다'
  }, {
    en: 'qualified',
    ko: '자격 있는, 적격의'
  }, {
    en: 'candidate',
    ko: '후보자, 지원자'
  }, {
    en: 'confidence',
    ko: '확신, 자신; 신임'
  }, {
    en: 'highly',
    ko: '매우, 대단히'
  }, {
    en: 'professional',
    ko: '전문적인, 직업의'
  }, {
    en: 'interview',
    ko: '면접'
  }, {
    en: 'hire',
    ko: '고용하다'
  }, {
    en: 'training',
    ko: '교육, 훈련'
  }],
  '1-2': [{
    en: 'reference',
    ko: '추천서; 참고'
  }, {
    en: 'position',
    ko: '일자리, 직책'
  }, {
    en: 'achievement',
    ko: '성취, 달성'
  }, {
    en: 'impressed',
    ko: '인상 깊게 생각하는, 감명을 받은'
  }, {
    en: 'excellent',
    ko: '훌륭한, 탁월한'
  }, {
    en: 'eligible',
    ko: '자격이 있는, 적격의'
  }, {
    en: 'identify',
    ko: '알아보다, 확인하다'
  }, {
    en: 'associate',
    ko: '관련시키다'
  }, {
    en: 'condition',
    ko: '조건'
  }, {
    en: 'employment',
    ko: '고용'
  }, {
    en: 'lake',
    ko: '~이 없다, 부족'
  }, {
    en: 'managerial',
    ko: '관리의'
  }, {
    en: 'diligent',
    ko: '성실한'
  }],
  '1-3': [{
    en: 'familiar',
    ko: '익숙한, 친숙한'
  }, {
    en: 'proficiency',
    ko: '숙달, 능숙'
  }, {
    en: 'prospective',
    ko: '장래의, 미래의'
  }, {
    en: 'appeal',
    ko: '관심을 끌다, 매력적이다'
  }, {
    en: 'specialize',
    ko: '~을 전공하다, 전문적으로 다루다'
  }, {
    en: 'apprehensive',
    ko: '걱정하는, 염려하는'
  }, {
    en: 'consultant',
    ko: '고문, 컨설턴트'
  }, {
    en: 'entitle',
    ko: '자격을 주다'
  }, {
    en: 'degree',
    ko: '학위'
  }, {
    en: 'payroll',
    ko: '임금 대장, 급료 명부'
  }, {
    en: 'recruit',
    ko: '모집하다'
  }, {
    en: 'certification',
    ko: '증명서, 증명'
  }, {
    en: 'occupation',
    ko: '직업'
  }, {
    en: 'wage',
    ko: '임금, 급료'
  }],
  '2-1': [{
    en: 'attire',
    ko: '복장, 옷차림새'
  }, {
    en: 'code',
    ko: '규범, 관례; 암호'
  }, {
    en: 'concern',
    ko: '우려, 걱정; 문제, 일'
  }, {
    en: 'policy',
    ko: '규정; 보험 증권'
  }, {
    en: 'comply',
    ko: '준수하다, 따르다'
  }, {
    en: 'regulation',
    ko: '규정'
  }, {
    en: 'exception',
    ko: '예외'
  }, {
    en: 'adhere',
    ko: '지키다, 고수하다'
  }, {
    en: 'severely',
    ko: '엄격하게, 심하게'
  }, {
    en: 'refrain',
    ko: '자제하다, 삼가다'
  }, {
    en: 'permission',
    ko: '허락, 허가'
  }, {
    en: 'access',
    ko: '이용 권한, 접근; 통로'
  }, {
    en: 'thoroughly',
    ko: '철저하게; 완전히, 대단히'
  }],
  '2-2': [{
    en: 'revise',
    ko: '(의견/ 계획을) 수정하다, 변경하다'
  }, {
    en: 'approach',
    ko: '접근법, 처리 방법'
  }, {
    en: 'approval',
    ko: '승인, 인가'
  }, {
    en: 'from',
    ko: '종류, 유형, 양식'
  }, {
    en: 'immediately',
    ko: '즉시, 곧'
  }, {
    en: 'inspection',
    ko: '점검, 검사'
  }, {
    en: 'arrangement',
    ko: '준비, 마련, 주선'
  }, {
    en: 'procedure',
    ko: '절차'
  }, {
    en: 'negative',
    ko: '부정적인, 비관적인'
  }, {
    en: 'mandate',
    ko: '명령하다, 지시하다'
  }, {
    en: 'effect',
    ko: '(법률 등의) 효력, 효과, 영향'
  }, {
    en: 'drastically',
    ko: '심하게, 과감하게, 철저하게'
  }, {
    en: 'according to',
    ko: '~에 따라'
  }],
  '2-3': [{
    en: 'enable',
    ko: '(무엇을) 가능하게 하다'
  }, {
    en: 'standard',
    ko: '기준, 표준'
  }, {
    en: 'constant',
    ko: '지속적인, 끊임없이 계속하는'
  }, {
    en: 'act',
    ko: '법령, 결의서; 행위, 행동'
  }, {
    en: 'compensation',
    ko: '보상금, 보상'
  }, {
    en: 'ban',
    ko: '금지'
  }, {
    en: 'obligation',
    ko: '의무, 책임'
  }, {
    en: 'authorize',
    ko: '~을 인가하다, 권한을 부여하다'
  }, {
    en: 'prohibit',
    ko: '금지하다'
  }, {
    en: 'abolish',
    ko: '(제도/ 법률 등을) 폐지하다'
  }, {
    en: 'enforce',
    ko: '(법률을) 시행하다, 집행하다'
  }, {
    en: 'habit',
    ko: '습관, 버릇'
  }, {
    en: 'legislation',
    ko: '법률, 법규'
  }, {
    en: 'restrict',
    ko: '한정하다, 제한하다'
  }],
  '3-1': [{
    en: 'accustomed',
    ko: '익숙한'
  }, {
    en: 'corporation',
    ko: '주식회사, 법인'
  }, {
    en: 'demanding',
    ko: '요구가 많은, 힘든'
  }, {
    en: 'colleague',
    ko: '(직업상의) 동료'
  }, {
    en: 'division',
    ko: '부서'
  }, {
    en: 'request',
    ko: '요청'
  }, {
    en: 'efficiently',
    ko: '효율적으로'
  }, {
    en: 'manage',
    ko: '~을 경영하다; 가까스로 하다'
  }, {
    en: 'submit',
    ko: '제출하다'
  }, {
    en: 'directly',
    ko: '곧바로'
  }, {
    en: 'remind',
    ko: '~에 상기시키다, 일깨우다'
  }, {
    en: 'instruct',
    ko: '지시하다, 가르치다'
  }, {
    en: 'deadline',
    ko: '마감일, 마감시간'
  }],
  '3-2': [{
    en: 'sample',
    ko: '견본, 샘플, 표본'
  }, {
    en: 'notify',
    ko: '~에게 통지하다, 알리다'
  }, {
    en: 'perform',
    ko: '(일/ 과제/ 의무 등을)시행하다, 행하다'
  }, {
    en: 'monitor',
    ko: '감독하다, 감시하다, 검토하다'
  }, {
    en: 'deserve',
    ko: '~할 만하다, ~할 가치가 있다'
  }, {
    en: 'assignment',
    ko: '일, 임무, 과제'
  }, {
    en: 'entire',
    ko: '전체의'
  }, {
    en: 'release',
    ko: '발표하다, 공개하다'
  }, {
    en: 'extension',
    ko: '연장, 연기; (전화의) 내선'
  }, {
    en: 'electronically',
    ko: '컴퓨터 통신망으로, 컴퓨터로'
  }, {
    en: 'attendance',
    ko: '출근, 출석'
  }, {
    en: 'absolutely',
    ko: '절대적으로, 완전히'
  }, {
    en: 'delegate',
    ko: '(권한 등을) 위임하다'
  }],
  '3-3': [{
    en: 'attentively',
    ko: '주의 깊게, 조심스럽게'
  }, {
    en: 'supervision',
    ko: '감독'
  }, {
    en: 'workshop',
    ko: '워크숍, 연수'
  }, {
    en: 'draw',
    ko: '끌다, 끌어당기다'
  }, {
    en: 'revision',
    ko: '수정, 개정'
  }, {
    en: 'reluctantly',
    ko: '마지못해, 꺼려하여'
  }, {
    en: 'acquaint',
    ko: '~에게 숙지시키다, 잘 알게 하다'
  }, {
    en: 'convey',
    ko: '(용건을) 전달하다'
  }, {
    en: 'check',
    ko: '검사하다, 조사하다; 확인하다'
  }, {
    en: 'file',
    ko: '(서류를) 정리하다, 철하다'
  }, {
    en: 'oversee',
    ko: '감독하다'
  }, {
    en: 'involved',
    ko: '관여하는, 관계된, 연루된'
  }, {
    en: 'concentrate',
    ko: '집중하다, 집중시키다'
  }]
};
function shuffle(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}
function backToMain() {
  document.getElementById('testContent').style.display = 'none';
  document.querySelectorAll('.sub-section-button').forEach(btn => btn.classList.remove('selected'));
  document.querySelectorAll('.day-button').forEach(btn => btn.classList.remove('selected'));
  document.querySelectorAll('.sub-sections').forEach(sec => sec.style.display = 'none');
  userAnswers = [];
  cardGameAnswers = [];
}
function startTest(includeReview = true) {
  const wordDisplay = document.querySelector('.word-display');
  const optionsContainer = document.querySelector('.options-container');
  const resultsDiv = document.querySelector('.results');
  const testButtons = document.querySelector('.test-button-container');
  const selectedButton = document.querySelector('.sub-section-button.selected');
  if (!selectedButton) {
    console.error('No section selected');
    return;
  }
  const selectedSection = selectedButton.textContent.split('-(')[1].replace(')', '');
  if (testButtons) {
    testButtons.style.display = 'none';
  }
  resultsDiv.innerHTML = '';
  const selectedList = `${selectedDay}-${selectedSection}`;
  if (!wordLists[selectedList]) {
    console.error('Word list not found for:', selectedList);
    return;
  }
  currentWords = shuffle([...wordLists[selectedList]]);
  currentWordIndex = 0;
  userAnswers = [];
  isShowingPhase = includeReview;
  if (includeReview) {
    showNextWord();
  } else {
    isShowingPhase = false;
    showNextWord();
  }
}
function showNextWord() {
  const wordDisplay = document.querySelector('.word-display');
  const optionsContainer = document.querySelector('.options-container');
  if (isShowingPhase) {
    if (currentWordIndex < currentWords.length) {
      wordDisplay.innerHTML = `<div>${currentWords[currentWordIndex].en}</div><div>${currentWords[currentWordIndex].ko}</div>`;
      optionsContainer.innerHTML = '';
      setTimeout(() => {
        currentWordIndex++;
        showNextWord();
      }, 1500);
    } else {
      isShowingPhase = false;
      currentWordIndex = 0;
      currentWords = shuffle([...currentWords]);
      showNextWord();
    }
  } else {
    if (currentWordIndex < currentWords.length) {
      wordDisplay.innerHTML = `<div>${currentWords[currentWordIndex].en}</div>`;
      showOptions();
    } else {
      showResults();
    }
  }
}
function showOptions() {
  const optionsContainer = document.querySelector('.options-container');
  optionsContainer.innerHTML = '';
  let options = [currentWords[currentWordIndex].ko];
  while (options.length < 3) {
    const randomWord = currentWords[Math.floor(Math.random() * currentWords.length)].ko;
    if (!options.includes(randomWord)) {
      options.push(randomWord);
    }
  }
  options = shuffle(options);
  options.forEach(option => {
    const button = document.createElement('button');
    button.className = 'option-button';
    button.textContent = option;
    button.onclick = () => checkAnswer(option);
    optionsContainer.appendChild(button);
  });
}
function checkAnswer(selectedAnswer) {
  const correctAnswer = currentWords[currentWordIndex].ko;
  const buttons = document.querySelectorAll('.option-button');
  buttons.forEach(button => {
    button.disabled = true;
    if (button.textContent === correctAnswer) {
      button.classList.add('correct');
    }
    if (button.textContent === selectedAnswer && selectedAnswer !== correctAnswer) {
      button.classList.add('incorrect');
    }
  });
  userAnswers.push({
    word: currentWords[currentWordIndex],
    correct: selectedAnswer === correctAnswer
  });
  setTimeout(() => {
    currentWordIndex++;
    showNextWord();
  }, 800);
}
function showResults() {
  const wordDisplay = document.querySelector('.word-display');
  const optionsContainer = document.querySelector('.options-container');
  const resultsDiv = document.querySelector('.results');
  const testButtons = document.querySelector('.test-button-container');
  wordDisplay.innerHTML = '';
  optionsContainer.innerHTML = '';
  if (testButtons) {
    testButtons.style.display = 'flex';
  }

  let answers = userAnswers;
  if (cardGameAnswers.length > 0) {
    answers = cardGameAnswers;
  }

  const correctCount = answers.filter(answer => answer.correct).length;
  const accuracy = answers.length > 0 ? (correctCount / answers.length * 100).toFixed(1) : '0.0';

  let resultsHTML = `<h3>테스트 결과: ${accuracy}%</h3>`;
  const incorrectAnswers = answers.filter(answer => !answer.correct);
  if (incorrectAnswers.length > 0) {
    const incorrectWordsText = incorrectAnswers.map(answer => `${answer.word.en} : ${answer.word.ko}`).join('\n');
    resultsHTML += `
      <div class="incorrect-words-section">
        <h4>틀린 단어</h4>
        <button class="copy-button" onclick="copyIncorrectWords()">틀린 단어 복사하기</button>
        <textarea id="incorrectWordsText" style="display: none;">${incorrectWordsText}</textarea>
      </div>`;
    incorrectAnswers.forEach(answer => {
      resultsHTML += `<div class="word-item incorrect-word">${answer.word.en} : ${answer.word.ko}</div>`;
    });
  }
  const correctAnswers = answers.filter(answer => answer.correct);
  if (correctAnswers.length > 0) {
    resultsHTML += '<h4>맞은 단어</h4>';
    correctAnswers.forEach(answer => {
      resultsHTML += `<div class="word-item correct-word">${answer.word.en} : ${answer.word.ko}</div>`;
    });
  }
  resultsDiv.innerHTML = resultsHTML;
}
function copyIncorrectWords() {
  const textArea = document.getElementById('incorrectWordsText');
  textArea.style.display = 'block';
  textArea.select();
  document.execCommand('copy');
  textArea.style.display = 'none';
  const copyButton = document.querySelector('.copy-button');
  const originalText = copyButton.textContent;
  copyButton.textContent = '복사 완료!';
  setTimeout(() => {
    copyButton.textContent = originalText;
  }, 1500);
}
function selectSubSection(day, section, button) {
  document.querySelectorAll('.sub-section-button').forEach(btn => {
    btn.classList.remove('selected');
  });
  const targetButton = button || event?.target;
  if (!targetButton) return;
  targetButton.classList.add('selected');
  selectedDay = day;
  const testContent = document.getElementById('testContent');
  testContent.style.display = 'block';
  const title = document.getElementById('testTitle');
  title.textContent = `${day}일차 ${section}번 섹션 단어장`;
  const buttonContainer = document.createElement('div');
  buttonContainer.className = 'test-button-container';
  buttonContainer.style.display = 'flex';
  buttonContainer.style.justifyContent = 'center';
  buttonContainer.style.gap = '20px';
  buttonContainer.style.margin = '20px 0';
  
  // Create speed buttons container
  const speedContainer = document.createElement('div');
  speedContainer.className = 'speed-buttons-container';
  speedContainer.style.display = 'flex';
  speedContainer.style.gap = '10px';
  
  // Normal speed button
  const normalButton = document.createElement('button');
  normalButton.className = 'start-test-button';
  normalButton.textContent = 'Normal';
  normalButton.onclick = () => startTest(true);
  
  // Fast speed button
  const fastButton = document.createElement('button');
  fastButton.className = 'start-test-button';
  fastButton.textContent = 'Fast';
  fastButton.onclick = () => startFastReview();
  
  // Slow speed button
  const slowButton = document.createElement('button');
  slowButton.className = 'start-test-button';
  slowButton.textContent = 'Slow';
  slowButton.onclick = () => startSlowReview();
  
  // Append speed buttons to speed container
  speedContainer.appendChild(normalButton);
  speedContainer.appendChild(fastButton);
  speedContainer.appendChild(slowButton);
  
  // Create '테스트만' button
  const quickTestButton = document.createElement('button');
  quickTestButton.className = 'start-test-button test-only-button';
  quickTestButton.textContent = '테스트만';
  quickTestButton.onclick = () => startTest(false);
  
  // Create '단어카드 맞추기' button with purple color
  const cardMatchButton = document.createElement('button');
  cardMatchButton.className = 'start-test-button card-match-button';
  cardMatchButton.textContent = '단어카드 맞추기';
  cardMatchButton.onclick = () => startCardGame();
  
  // Append buttons to button container
  buttonContainer.appendChild(speedContainer);
  buttonContainer.appendChild(quickTestButton);
  buttonContainer.appendChild(cardMatchButton);
  
  let existingContainer = document.querySelector('.test-button-container');
  if (existingContainer) {
    existingContainer.replaceWith(buttonContainer);
  } else {
    const titleElement = document.getElementById('testTitle');
    titleElement.insertAdjacentElement('afterend', buttonContainer);
  }
}
function createDayButtons() {
  const container = document.getElementById('dayContainers');
  container.className = 'days-grid';
  for (let i = 1; i <= 30; i++) {
    const dayContainer = document.createElement('div');
    dayContainer.className = 'day-container';
    const button = document.createElement('button');
    button.className = 'day-button';
    button.textContent = `${i}일차`;
    button.onclick = () => selectDay(i, dayContainer);
    dayContainer.appendChild(button);
    const subSections = document.createElement('div');
    subSections.className = 'sub-sections';
    subSections.id = `subSections-${i}`;
    for (let j = 1; j <= 3; j++) {
      const subButton = document.createElement('button');
      subButton.className = 'sub-section-button';
      subButton.textContent = `${i}-(${j})`;
      subButton.onclick = () => selectSubSection(i, j, subButton);
      subSections.appendChild(subButton);
    }
    dayContainer.appendChild(subSections);
    container.appendChild(dayContainer);
  }
}
function selectDay(day, container) {
  selectedDay = day;
  document.querySelectorAll('.sub-sections').forEach(el => {
    el.style.display = 'none';
  });
  document.querySelectorAll('.day-button').forEach(btn => {
    btn.classList.remove('selected');
  });
  const button = event?.target || container.querySelector('.day-button');
  button.classList.add('selected');
  const subSections = container.querySelector('.sub-sections');
  subSections.style.display = 'flex';
}
function startFastReview() {
  const wordDisplay = document.querySelector('.word-display');
  const optionsContainer = document.querySelector('.options-container');
  const resultsDiv = document.querySelector('.results');
  const testButtons = document.querySelector('.test-button-container');
  const selectedButton = document.querySelector('.sub-section-button.selected');
  if (!selectedButton) {
    console.error('No section selected');
    return;
  }
  const selectedSection = selectedButton.textContent.split('-(')[1].replace(')', '');
  if (testButtons) {
    testButtons.style.display = 'none';
  }
  resultsDiv.innerHTML = '';
  const selectedList = `${selectedDay}-${selectedSection}`;
  if (!wordLists[selectedList]) {
    console.error('Word list not found for:', selectedList);
    return;
  }
  currentWords = shuffle([...wordLists[selectedList]]);
  currentWordIndex = 0;
  userAnswers = [];
  isShowingPhase = true;
  showNextWordFast();
}
function showNextWordFast() {
  const wordDisplay = document.querySelector('.word-display');
  const optionsContainer = document.querySelector('.options-container');
  if (currentWordIndex < currentWords.length) {
    wordDisplay.innerHTML = `<div>${currentWords[currentWordIndex].en}</div><div>${currentWords[currentWordIndex].ko}</div>`;
    optionsContainer.innerHTML = '';
    setTimeout(() => {
      currentWordIndex++;
      showNextWordFast();
    }, 750);
  } else {
    currentWordIndex = 0;
    currentWords = shuffle([...currentWords]);
    isShowingPhase = false;
    showNextWord();
  }
}
function startSlowReview() {
  const wordDisplay = document.querySelector('.word-display');
  const optionsContainer = document.querySelector('.options-container');
  const resultsDiv = document.querySelector('.results');
  const testButtons = document.querySelector('.test-button-container');
  const selectedButton = document.querySelector('.sub-section-button.selected');
  if (!selectedButton) {
    console.error('No section selected');
    return;
  }
  const selectedSection = selectedButton.textContent.split('-(')[1].replace(')', '');
  if (testButtons) {
    testButtons.style.display = 'none';
  }
  resultsDiv.innerHTML = '';
  const selectedList = `${selectedDay}-${selectedSection}`;
  if (!wordLists[selectedList]) {
    console.error('Word list not found for:', selectedList);
    return;
  }
  currentWords = shuffle([...wordLists[selectedList]]);
  currentWordIndex = 0;
  userAnswers = [];
  isShowingPhase = true;
  showNextWordSlow();
}
function showNextWordSlow() {
  const wordDisplay = document.querySelector('.word-display');
  const optionsContainer = document.querySelector('.options-container');
  if (currentWordIndex < currentWords.length) {
    wordDisplay.innerHTML = `<div>${currentWords[currentWordIndex].en}</div><div>${currentWords[currentWordIndex].ko}</div>`;
    optionsContainer.innerHTML = '';
    setTimeout(() => {
      currentWordIndex++;
      showNextWordSlow();
    }, 3000);
  } else {
    currentWordIndex = 0;
    currentWords = shuffle([...currentWords]);
    isShowingPhase = false;
    showNextWord();
  }
}
function startCardGame() {
  const wordDisplay = document.querySelector('.word-display');
  const optionsContainer = document.querySelector('.options-container');
  const resultsDiv = document.querySelector('.results');
  const testButtons = document.querySelector('.test-button-container');
  const selectedButton = document.querySelector('.sub-section-button.selected');
  if (!selectedButton) {
    console.error('No section selected');
    return;
  }
  const selectedSection = selectedButton.textContent.split('-(')[1].replace(')', '');
  const selectedList = `${selectedDay}-${selectedSection}`;
  if (!wordLists[selectedList]) {
    console.error('Word list not found for:', selectedList);
    return;
  }
  if (testButtons) testButtons.style.display = 'none';
  resultsDiv.innerHTML = '';
  wordDisplay.innerHTML = '';
  optionsContainer.innerHTML = '';
  currentWords = shuffle([...wordLists[selectedList]]);
  currentWordIndex = 0;
  cardGameAnswers = [];
  selectedCard = null;
  showNextCardPhase();
}
function showNextCardPhase() {
  if (!document.querySelector('.word-display')) return;
  const wordDisplay = document.querySelector('.word-display');
  const optionsContainer = document.querySelector('.options-container');
  if (currentWordIndex >= currentWords.length) {
    showResults();
    return;
  }
  currentCardPhase = currentWords.slice(currentWordIndex, currentWordIndex + 5);
  currentWordIndex += 5;
  const timerBar = document.createElement('div');
  timerBar.className = 'timer-bar';
  timerBar.innerHTML = '<div class="timer-progress"></div>';
  const gameContainer = document.createElement('div');
  gameContainer.className = 'card-game-container';
  const enColumn = document.createElement('div');
  enColumn.className = 'card-column';
  const koColumn = document.createElement('div');
  koColumn.className = 'card-column';
  const shuffledPhase = shuffle([...currentCardPhase]);
  const shuffledKo = shuffle([...currentCardPhase]);
  shuffledPhase.forEach(word => {
    const card = document.createElement('div');
    card.className = 'word-card';
    card.textContent = word.en;
    card.onclick = () => selectEnCard(card, word);
    enColumn.appendChild(card);
  });
  shuffledKo.forEach(word => {
    const card = document.createElement('div');
    card.className = 'word-card';
    card.textContent = word.ko;
    card.onclick = () => selectKoCard(card, word);
    koColumn.appendChild(card);
  });
  gameContainer.appendChild(enColumn);
  gameContainer.appendChild(koColumn);
  wordDisplay.innerHTML = '';
  optionsContainer.innerHTML = '';
  wordDisplay.appendChild(timerBar);
  wordDisplay.appendChild(gameContainer);
  startCardTimer();
}
function startCardTimer() {
  const progress = document.querySelector('.timer-progress');
  let timeLeft = 15;
  progress.style.width = '100%';
  if (cardGameTimer) clearInterval(cardGameTimer);
  cardGameTimer = setInterval(() => {
    timeLeft -= 0.1;
    progress.style.width = `${(timeLeft / 15) * 100}%`;
    if (timeLeft <= 0) {
      clearInterval(cardGameTimer);
      handleTimeUp();
    }
  }, 100);
}
function handleTimeUp() {
  const unmatched = document.querySelectorAll('.word-card:not(.correct)');
  unmatched.forEach(card => {
    card.classList.add('incorrect');
  });
  currentCardPhase.forEach(word => {
    if (!cardGameAnswers.some(answer => answer.word.en === word.en)) {
      cardGameAnswers.push({
        word: word,
        correct: false
      });
    }
  });
  setTimeout(() => {
    showNextCardPhase();
  }, 1500);
}
function selectEnCard(card, word) {
  if (selectedCard || card.classList.contains('correct')) return;
  document.querySelectorAll('.word-card').forEach(c => c.classList.remove('selected'));
  card.classList.add('selected');
  selectedCard = {
    card,
    word,
    type: 'en'
  };
}
function selectKoCard(card, word) {
  if (!selectedCard || card.classList.contains('correct') || selectedCard.type === 'ko') return;
  if (selectedCard.word.ko === word.ko) {
    selectedCard.card.classList.add('correct');
    card.classList.add('correct');
    cardGameAnswers.push({
      word: selectedCard.word,
      correct: true
    });
    selectedCard = null; 
    if (document.querySelectorAll('.word-card:not(.correct)').length === 0) {
      clearInterval(cardGameTimer);
      setTimeout(() => {
        showNextCardPhase();
      }, 1000);
    }
  } else {
    card.classList.add('incorrect');
    setTimeout(() => {
      card.classList.remove('incorrect');
      selectedCard.card.classList.remove('selected');
      selectedCard = null; 
    }, 500);
  }
}
createDayButtons();
</script>
</body>
</html>
